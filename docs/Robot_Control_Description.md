# Управление роботом 

Приложение для управления различными устройствами, прежде всего - движением роботов.   

> Пример использования: [Открытая прошивка](https://github.com/Grovety/CrowBot_GRC_program/tree/main) для [CrowBot-BOLT robot](https://www.elecrow.com/crowbot-bolt-programmable-smart-robot-car-steam-robot-kit.html), используйте для разработки ваших собственных проектов.

## Как устроено управление роботом 

Решение состоит из двух частей 

Первая часть - это программное обеспечение, в том числе нейронные сети, которые работают на ESP32-S3 на нашей плате. Их задача: 

1. Распознавание голосовых команд 
2. Определение углов наклона платы в пространстве (по осям X и Y)

![RCax](https://github.com/user-attachments/assets/df23ef1b-fbf7-4044-8efd-d63a35861690)

Вторая часть - это API и программное обеспечение, которые дают разработчику возможность работать с результатом работы первой части для создания собственных кастомизированных решений. 

- описание API 
- Открытый пример реализации работы с API

## Голосовое управление

Плата "слушает" команды пользователя через встроенные микрофоны, распознаёт их с помощью нейросети, исполняемой на S3.

Распознанная команда отправляется в C3, где пользователь может принять и использовать её для формирования команд для управляемого устройства. 

Дополнительно:

- Команда показывается на экране;
- Диоды загораются зеленым, если команда распознана.


### Список команд

- ROBOT WAKE UP
- ROBOT SLEEP
- MANUAL CONTROL
- VOICE CONTROL
- GO RIGHT
- GO LEFT
- GO FORWARD
- GO BACK
- GO HOME
- SLOWER SPEED
- FASTER SPEED
- LIGHTS ON
- LIGHTS OFF
- PLAY MUSIC

## Управление наклоном
### Вход в режим

Скажите "Manual Control"
или нажмите кнопку "USER"

**Внимание:** При переходе держите плату горизонтально, т.к. выполняется калибровка акселерометра. Когда картинка на экране сменилась, калибровка окончена, плата перешла в режим управления наклоном. 


![DB](https://github.com/user-attachments/assets/97d87ccf-da3e-4ba6-912a-830ea2277bbc)

Отклонение окружности от перекрестия визуально показывает степень наклона платы.

**Важно:**  В режиме управления наклоном вы можете продолжать использовать голосовые команды. Они не будут показаны на дисплее, но светодиодная индикация останется активной. 

### Выход из режима
- Скажите "Voice control" или
- нажимите кнопку USER

### Формат сообщений для взаимодействия с платой:
- Сообщения от **ESP32S3** для **ESP32C3** используют этот [протокол](https://github.com/MIR-LLC/AI-apps/blob/main/GRC_protocol.md).
- **Sample rate:** 15 Hz.
- Board orientation is represented by two angles: **x (roll)** and **y (pitch)**, in the range **(-90°, 90°)**.
- Each coordinate is stored in **1 byte**.
- Coordinates are prefixed with the string **`XY`**.
- Example message: `"RobotControl_XY"[x_coord][y_coord]`.







